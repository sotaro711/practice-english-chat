# 画面設計書：AI チャット英語学習システム

## 1. 画面一覧

| 画面 ID | 画面名                 | パス              | 概要                           |
| ------- | ---------------------- | ----------------- | ------------------------------ |
| SCR-01  | 新規登録画面           | `/signup`         | ユーザーアカウント作成         |
| SCR-02  | ログイン画面           | `/login`          | ユーザー認証                   |
| SCR-03  | AI チャット画面        | `/chat`           | AI との対話学習（メイン画面）  |
| SCR-04  | ブックマーク画面       | `/bookmarks`      | 保存した英文の管理             |
| SCR-05  | パスワードリセット画面 | `/reset-password` | パスワード再設定               |
| SCR-06  | 設定画面               | `/settings`       | ユーザー設定・プロフィール管理 |

## 2. 画面設計詳細

### SCR-01: 新規登録画面

**レイアウト**

```
┌─────────────────────────────────┐
│           ヘッダー               │
│    AIチャット英語学習システム      │
├─────────────────────────────────┤
│                                │
│        新規登録フォーム           │
│  ┌─────────────────────────┐     │
│  │ メールアドレス             │     │
│  │ [input field]            │     │
│  └─────────────────────────┘     │
│  ┌─────────────────────────┐     │
│  │ パスワード               │     │
│  │ [input field]            │     │
│  └─────────────────────────┘     │
│  ┌─────────────────────────┐     │
│  │ パスワード確認             │     │
│  │ [input field]            │     │
│  └─────────────────────────┘     │
│                                │
│       [登録ボタン]               │
│                                │
│   または                        │
│   [Googleでログイン]              │
│                                │
│   アカウントをお持ちの方           │
│   [ログインはこちら]              │
└─────────────────────────────────┘
```

**機能要件**

- メール・パスワード入力
- バリデーション（メール形式、パスワード強度）
- Supabase Auth 連携
- ログイン画面への遷移

### SCR-02: ログイン画面

**レイアウト**

```
┌─────────────────────────────────┐
│           ヘッダー               │
│    AIチャット英語学習システム      │
├─────────────────────────────────┤
│                                │
│         ログインフォーム          │
│  ┌─────────────────────────┐     │
│  │ メールアドレス             │     │
│  │ [input field]            │     │
│  └─────────────────────────┘     │
│  ┌─────────────────────────┐     │
│  │ パスワード               │     │
│  │ [input field]            │     │
│  └─────────────────────────┘     │
│                                │
│       [ログインボタン]            │
│                                │
│   または                        │
│   [Googleでログイン]              │
│                                │
│   [パスワードを忘れた方はこちら]     │
│                                │
│   アカウントをお持ちでない方        │
│   [新規登録はこちら]              │
└─────────────────────────────────┘
```

**機能要件**

- メール・パスワード認証
- ソーシャルログイン（Google）
- 自動ログイン機能
- パスワードリセット画面への遷移

### SCR-03: AI チャット画面

**レイアウト**

```
┌─────────────┬─────────────────────┐
│             │     ヘッダー         │
│ サイドバー   ├─────────────────────┤
│             │                    │
│ 🏠 チャット  │    チャットエリア    │
│ 📚 ブック   │                    │
│   マーク    │ [AI] こんにちは！   │
│ ⚙️ 設定     │  今日はどんな英語を  │
│ 🚪 ログ     │  学びたいですか？    │
│   アウト    │                    │
│             │      [ユーザー]     │
│             │      会議で使える    │
│             │      フレーズ       │
│             │                    │
│             │ [AI提案1] ♪ ⭐     │
│             │ "Let's get started" │
│             │ 「始めましょう」     │
│             │                    │
│             │ [AI提案2] ♪ ⭐     │
│             │ "I'd like to add..." │
│             │ 「～を追加したいと   │
│             │ 思います」          │
│             │                    │
│             │ [AI提案3] ♪ ⭐     │
│             │ "What do you think?" │
│             │ 「いかがでしょうか？」│
│             │                    │
│             ├─────────────────────┤
│             │[入力欄] メッセージ [送信]│
└─────────────┴─────────────────────┘
```

**機能要件**

- AI 応答表示（3 つの提案）
- 音声再生機能（♪ アイコン）
- ブックマーク機能（⭐ アイコン）
- メッセージ送信
- 他画面への遷移

### SCR-04: ブックマーク画面

**レイアウト**

```
┌─────────────┬─────────────────────┐
│             │ ブックマーク一覧     │
│ サイドバー   ├─────────────────────┤
│             │                    │
│ 🏠 チャット  │┌─────────────────┐  │
│ 📚 ブック   ││"Let's get started"│♪│✕│
│   マーク    ││「始めましょう」   │ │ │
│ ⚙️ 設定     │└─────────────────┘  │
│ 🚪 ログ     │                    │
│   アウト    │┌─────────────────┐  │
│             ││"I'd like to add..." │♪│✕│
│             ││「～を追加したいと │ │ │
│             ││思います」        │ │ │
│             │└─────────────────┘  │
│             │                    │
│             │┌─────────────────┐  │
│             ││"What do you think?"│♪│✕│
│             ││「いかがでしょうか？」│ │ │
│             │└─────────────────┘  │
│             │                    │
└─────────────┴─────────────────────┘
```

**機能要件**

- ブックマーク一覧表示
- 音声再生（♪ アイコン）
- 削除機能（✕ アイコン + 確認モーダル）
- チャット画面への戻る機能

### SCR-05: パスワードリセット画面

**レイアウト**

```
┌─────────────────────────────────┐
│           ヘッダー               │
│    AIチャット英語学習システム      │
├─────────────────────────────────┤
│                                │
│       パスワードリセット          │
│                                │
│  登録済みのメールアドレスを入力     │
│  してください。リセット用のリンク   │
│  をお送りします。                │
│                                │
│  ┌─────────────────────────┐     │
│  │ メールアドレス             │     │
│  │ [input field]            │     │
│  └─────────────────────────┘     │
│                                │
│       [送信ボタン]               │
│                                │
│   [ログイン画面に戻る]            │
│                                │
└─────────────────────────────────┘
```

**機能要件**

- メールアドレス入力
- リセットメール送信
- 送信完了メッセージ表示
- ログイン画面への戻る機能

### SCR-06: 設定画面

**レイアウト**

```
┌─────────────┬─────────────────────┐
│             │ 設定                │
│ サイドバー   ├─────────────────────┤
│             │                    │
│ 🏠 チャット  │ プロフィール         │
│ 📚 ブック   │┌─────────────────┐  │
│   マーク    ││表示名:[input]    │  │
│ ⚙️ 設定     │└─────────────────┘  │
│ 🚪 ログ     │┌─────────────────┐  │
│   アウト    ││メール:user@ex... │  │
│             │└─────────────────┘  │
│             │                    │
│             │ 音声設定            │
│             │┌─────────────────┐  │
│             ││音声速度:[slider] │  │
│             ││音声言語:[English]│  │
│             │└─────────────────┘  │
│             │                    │
│             │ アカウント          │
│             │ [パスワード変更]     │
│             │ [ログアウト]        │
│             │ [アカウント削除]     │
│             │                    │
└─────────────┴─────────────────────┘
```

**機能要件**

- プロフィール編集
- 音声設定変更
- パスワード変更
- ログアウト
- アカウント削除（確認モーダル付き）

## 3. 共通 UI 要素

### サイドバーナビゲーション

**表示条件**

- ログイン後の全画面（チャット、ブックマーク、設定）で表示
- PC: 左側固定表示（幅 250px）
- スマートフォン: ハンバーガーメニューからスライドイン

**レイアウト**

```
┌─────────────────┐
│   [≡] ユーザー名  │ <- ヘッダー部分
├─────────────────┤
│                │
│ 🏠 チャット      │ <- メイン機能
│ 📚 ブックマーク   │
│                │
├─────────────────┤
│ ⚙️  設定         │ <- 設定・アカウント
│ 🚪 ログアウト     │
│                │
└─────────────────┘
```

**機能要件**

- 現在のページをハイライト表示
- アイコン + テキストで直感的なナビゲーション
- ログアウト機能の直接実行
- レスポンシブ対応（モバイルでは折りたたみ可能）

**アイコン定義**

- 🏠 チャット（メインページ）
- 📚 ブックマーク
- ⚙️ 設定
- 🚪 ログアウト

### モーダル要素

- **削除確認モーダル**: 「このブックマークを削除しますか？」[はい][いいえ]
- **アカウント削除確認**: 「アカウントを削除しますか？この操作は取り消せません。」

### レスポンシブ対応

**PC (幅 ≥ 768px)**

- サイドバー: 左側固定表示（幅 250px）
- メインコンテンツ: 残り領域、最大幅 800px

**スマートフォン (幅 < 768px)**

- サイドバー: ハンバーガーメニューから表示
- メインコンテンツ: 画面幅 100%、タッチ操作最適化
- サイドバー表示時: オーバーレイ + スライドイン

### 色・アイコン指針

- プライマリカラー: 学習をイメージした青系
- アクセントカラー: 温かみのあるオレンジ系
- 音声アイコン: ♪ または 🔊
- ブックマークアイコン: ⭐（未登録時は ☆）
- 削除アイコン: ✕ または 🗑️

## 4. 画面遷移

```
ログイン → AIチャット ←→ ブックマーク
   ↑            ↓
新規登録        設定
   ↑
パスワードリセット
```

## 5. 技術実装メモ

- **フレームワーク**: Next.js (App Router)
- **認証**: Supabase Auth
- **状態管理**: React hooks + Context API
- **スタイリング**: Tailwind CSS 推奨
- **音声**: Web Speech API
- **レスポンシブ**: Mobile First 設計
- **サイドバー実装**:
  - PC: CSS Grid/Flexbox で固定レイアウト
  - モバイル: useState + CSS Transition でスライドイン
  - ナビゲーション: Next.js Router の useRouter フック使用
